<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>WebORA - A Molecular View of Organic Reactions</title>
	<!-- Favicon-->
	<link rel="icon" href="assets/logo.svg" />
	<!-- Font Awesome icons (free version)-->
	<script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js" crossorigin="anonymous"></script>
	<!-- Google fonts-->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
	<link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
		type="text/css" />
	<!-- Core theme CSS (includes Bootstrap)-->
	<link href="css/styles.css" rel="stylesheet" />
	<script type="text/javascript">
		//put reactions dataset here.
		const reactions = [
			{
				name: "SN2 REACTION",
				TSframe: 500,
				writeup: "This SN2 trajectory shows the methoxide nucleophile collision into the backside of the C-Br bond with enough energy and at the correct angle (the transition state angle) to induce a new O-C bond and cleavage of the C-Br bond. Note that at the beginning of the trajectory the methoxide nucleophile weakly interacts with C-H bonds adjacent to the C-Br bond. The E2 trajectory animation shows the competitive E2 reaction. The SN2 and E2 trajectories are competitive because the transition states are close in energy.",
				figDir: "assets/img/portfolio/2-Bromobutane_SN2_2-Methoxybutane.png",
				trjDir: "assets/traj/2-Bromobutane_SN2_2-Methoxybutane.sdf",
				events: {
					100: "The animation begins with the methoxide in proximity of the backside of the carbon-bromine bond.It is that position that is required for the reaction to proceed.The two reagents would be held in proximity of each other by the solvent used in the reaction.The animation does not show the solvent in this case.",
					300: "Notice that the methoxide is tempted to deprotonate one of the beta hydrogens. That would lead to the E2 reaction. There are two anti-periplanar beta hydrogens and both are acidic.",
					500: "Once the methoxide group gets into a conformation that favors the nucleophilic attack into the unoccupied anti-bond of the C—Br bond (the LUMO), then the reaction proceeds to give the substituted product. Note that inversion occurs at the carbon that the methoxide attacks."
				}
			},
			{
				name: "E2 REACTION",
				writeup: "This E2 trajectory shows that the methoxide base deprotonates the beta anti-periplanar hydrogen on C-3. As this deprotonation occurs, the pi bond is formed and the bromide is ejected. Use the transition state (TS) button to examine key distances: the base to the beta hydrogen, the C-2 to C-3 distance, and the C-Br distance.",
				TSframe: 353,
				figDir: "assets/img/portfolio/2-Bromobutane_E2_Butene.png",
				trjDir: "assets/traj/2-Bromobutane_E2_Butene.sdf",
				events: {
					2: "The animation begins with the methoxide in proximity of the backside of the carbon-bromine bond (compare to Reaction #1). However, the SN2 path from this position would be hindered by the steric interaction between the C-1 methyl group and the methyl group of the methoxide.",
					282: "Notice that the methoxide is tempted to deprotonate the beta anti-periplanar hydrogen on C-1 at step 282.",
					321: "The methoxide shifts over to the beta anti-periplanar hydrogen on C-3 at step 321.",
					357: "Then at step 357 that beta hydrogen is deprotonated. The C—Br bond is elongated as the beta hydrogen is deprotonated.",
					365: "The alkene forms at roughly the same time as the methanol is formed and the bromide anion is released. You can see this at step 365.",
					400: "The methanol and the bromide both move away from the alkene because there are no attractive forces to hold them together."
				}
			},
			{
				name: "NON-PRODUCTIVE SN2 REACTION",
				figDir: "assets/img/portfolio/Chloroethane_SN2_Propionitrile.png",
				trjDir: "assets/traj/Chloroethane_SN2_Propionitrile_nonproductive.sdf",
				writeup: "Most collisions between reactants do not lead to the transition state geometry. Rather, reactants often collide and bounce away from each other in what is referred to as a non-productive collision. This trajectory shows an example where a cyanide anion collides with chloroethane without leading to the SN2 transition state. Compare this non-productive trajectory with the productive SN2 reaction. To view the productive SN2 reaction, click the button “Productive SN2 reaction”.",
				events: {
					500: "The cyanide ion never finds the proper angle for substitution to occur. There are several factors that can lead to this lack of reaction. One, might be that the solvent (water, for example) solvates the nucleophile and prevents it from finding access to the backside of the C—Cl bond.",
					1000: "Another situation that prevents the SN2 reaction, is steric hindrance of the backside of the C—Cl bond. You should be familiar with this situation. Leaving groups on tertiary carbons do not undergo the SN2 reaction. But in this case, chloroethane is a primary chloride and sterics are not a problem. ",
					1500: "A third explanation for this non-productive outcome is that insufficient heat is applied to the reaction."
				},
				variants: [
					{	
						name: "Productive SN2 reaction",
						TSframe: 1000,
						figDir: "assets/img/portfolio/Chloroethane_SN2_Propionitrile_productive.png",
						trjDir: "assets/traj/Chloroethane_SN2_Propionitrile.sdf",
						events: {
							2: "The cyanide ion starts in a position that is not close to the backside of the C—Cl bond. ",
							998: "After vibrating and rotating, the cyanide anion does align with the antibond of the C—Cl which allows for orbital mixing. This leads to a transition state at step 998.",
							1500: "The chloride ion is not nucleophilic enough to lead to the orbital mixing needed for the substitution of the cyanide, the reverse reaction."
						}
					}
				]
			},
			{
				name: "SN1 REACTION",
				figDir: "assets/img/portfolio/Iodotertbutane_Sn1_tertbutyl.png",
				trjDir: "assets/traj/Iodotertbutane_SN1_tertbutyl.sdf",
			},

			{
				name: "E1cb REACTION",
				writeup: "The E1cb reaction occurs when a base deprotonates an acidic hydrogen without leaving group ejection. This E1cb trajectory shows methoxide deprotonation of a hydrogen that is alpha to the nitro group followed by a time delay until the chloride leaving group is ejected and the pi bond is formed.",
				figDir: "assets/img/portfolio/PhenylChloroNitroPropane_E1cb_NitroPhenylPropene.png",
				trjDir: "assets/traj/PhenylChloroNitroPropane_E1cb_NitroPhenylPropene.sdf",
				events: {
					5: "The animation begins with the methoxide in proximity of the backside of the carbon-bromine bond. The two anti-periplanar beta hydrogens are both drawn to the methoxide, which indicates that both are acidic.",
					41: "The methoxide moves toward the more acidic hydrogen in step 41. Eventually, the anti-periplanar beta hydrogen on C-1 is deprotonated.",
					293: "The anion on C-1 isn’t fully formed until step 293. This can be seen by watching the hybridization of the C-1 carbon. It becomes sp2 hybridized at this point. ",
					297: "Then the chloride is dispatched from C-2 carbon at step 297.",
					350: "The chloride ion and the methanol move away from the less polar alkene product."
				}
			},
			{
				name: "ALKENE HYDROHALOGENATION",
				writeup: "This hydrohalogenation trajectory shows HBr protonation of isobutylene to generate a tertiary carbocation intermediate. Because this trajectory does not have solvent around to stabilize the carbocation, bromide very quickly forms the C-Br bond to give the addition product.",
				figDir: "assets/img/portfolio/Butene_EA_bromobutane.png",
				trjDir: "assets/traj/Butene_EA_bromobutane.sdf",
				TSframe: 300,
				events: {
					5: "The animation begins with the HBr far from the alkene. In a non-polar solvent, like diethyl ether, the H—Br bond is covalent. The HBr eventually approaches the alkene.",
					258: "At step #258, the H+ electrophile is roughly between both carbons of the alkene.",
					300: "As the nucleophilic alkene reacts with the electrophilic H+ the more stable carbocation is formed. This also frees up the bromide anion.",
					315: "The carbocation in this calculation is not long-lived. The bromide anion is formed in close proximity and there is no solvent included in this simulation. As a result, there is no sp2 hybridized carbocation intermediate in the calculation. The structure at step #315 is the closest to the intermediate carbocation in this case.",
					398: "The animation has t-butyl bromide as the final product at step #398. "
				}
			},
			{
				name: "Hydroboration",
				writeup: "Hydroboration of an alkene generally does not involve a carbocation intermediate. This trajectory shows the reaction between the electrophile BH3 and 1-butene. In the early time of the trajectory the pi bond interacts with the electrophilic boron. Very soon after this electrophilic interaction the boron transfers a hydride to the C-2 atom and this occurs without forming a carbocation intermediate.",
				figDir: "assets/img/portfolio/Propene_EA_Propylborane.png",
				trjDir: "assets/traj/propene_EA_propylborane.sdf",
				events: {
					5: "The animation begins with the BH3 moving toward the alkene. ",
					124: "At step #124, the boron electrophile is roughly between both carbons of the alkene. ",
					137: "By step #137 the C—B bond between C-1 and the boron has begun to form.",
					163: "The hydride begins to transfer over to the C-2 carbon at step #163. The C-2 hybridization is sp3 at this point.",
					173: "At step #173 the hydroboration is complete. The original alkene carbons are both sp3 now and the boron is back to being sp2.",
					200: "The alkylborane rotates and vibrates freely from step #200 on. We usually treat an alkylborane with NaOH and H2O2 in order to obtain an alcohol. We have not animated this oxidation step. The oxidation process occurs with no change of stereochemistry, therefore the two steps of hydroboration and oxidation result in syn addition of H and OH to an alkene. "
				}
			},
			{
				name: "EPOXIDATION",
				writeup: "Epoxidation of an alkene is a reaction that does not have an intermediate. This trajectory shows the collision and reaction of the peroxy acid, m-chloroperbenzoic acid (mCPBA), with trans-2-butene. The nucleophilic pi bond of the alkene simultaneously forms two bonds with the electrophilic oxygen of the peroxy acid. This trajectory shows that there is no carbocation intermediate and therefore the trans relationship of the alkene methyl groups remains in the epoxide product.",
				figDir: "assets/img/portfolio/Butene_EA_dimethyloxirane.png",
				trjDir: "assets/traj/Butene_EA_dimethyloxirane.sdf",
				TSframe: 513,
				events: {
					5: "The animation begins with the peroxy acid moving toward the alkene. ",
					975: "At step #975, the oxygen electrophile is roughly between both carbons of the alkene. This equal distance is maintained all the way through step #1081 where the epoxide to C-2 and C-3 is formed.",
					1100: "Once the epoxide is formed the carboxylic acid moves away from the relatively non-polar 3-member ring ether."
				}
			},
			{
				name: "CARBENE CYCLOADDITION",
				writeup: "This trajectory shows the reactive collision between dichlorocarbene (a divalent form of carbon) and ethylene. The trajectory progresses through a transition state (use the TS button) where the dominant interaction is between the ethylene pi orbital and the empty p orbital of the carbene. This trajectory shows there is no carbocation intermediate and both new C-C bonds are asynchronously formed in one reaction step.",
				figDir: "assets/img/portfolio/DiChloroCarbene_EA_DiChloroCyclopropane.png",
				trjDir: "assets/traj/DiChloroCarbene_EA_DiChloroCyclopropane.sdf",
				TSframe: 251,
			},
			{
				name: "ADN2 REACTION",
				figDir: "assets/img/portfolio/Acetone_NA_2-hydroxy-2-methylpropanenitrile.png",
				trjDir: "assets/traj/Acetone_NA_2-hydroxy-2-methylpropanenitrile.sdf",
				TSframe: 430,
				writeup: "This trajectory shows the addition of cyanide to the carbon atom of acetone to form a new C-CN bond with simultaneous cleavage of the C=O π bond. However, before addition, this trajectory shows an initial unproductive collision between cyanide and the ketone. It is important to realize that many unproductive collisions occur between reacting compounds before a productive, product-forming collision occurs."
			},
			{
				name: "ACETONE REDUCTION",
				writeup: "This trajectory shows the reaction of LiAlH4 with acetone and results in hydride transfer. This trajectory shows that the Li cation templates the motion and direction of hydride transfer to the carbonyl. After hydride addition the anionic oxygen interacts with borane.",
				figDir: "assets/img/portfolio/Acetone_NA_Isopropanol.png",
				trjDir: "assets/traj/Acetone_NA_Isopropanol.sdf",
				TSframe: 231,
			},
			{
				name: "PROTON TRANSFER",
				writeup: "This trajectory shows the proton transfer reaction between methoxide and trifluoroacetic acid. Because there is no transition state, proton transfer occurs as soon as methoxide is within bonding distance. Notice that the proton transfers back and forth very rapidly between methoxide and trifluroacetate several times before dissociation of methanol.",
				figDir: "assets/img/portfolio/TFA_Methoxide.png",
				trjDir: "assets/traj/TFA_Methoxide.sdf",
			},
			{
				name: "PROTON TRANSFER",
				writeup: "This trajectory shows that the basic nitrogen must first orient properly to react with the C-H bond of acetone. This involves a linear arrangement, 180 degree angle, between the nitrogen atom, the transferring proton, and the carbon that is being deprotonated.",
				figDir: "assets/img/portfolio/Acetone_LDA.png",
				trjDir: "assets/traj/Acetone_LDA.sdf",
				variants: [
					{
						name: "Ivolvement of Li",
						figDir: "assets/img/portfolio/Acetone_LDA_8.png",
						trjDir: "assets/traj/Acetone_LDA_8_TS500.sdf",
						TSframe: 500
					}
				]
			},
			{
				name: "BUTANE CONFORMATIONS",
				figDir: "assets/img/portfolio/butane.png",
				trjDir: "assets/traj/butane.sdf",
				TSframe: 1000,
				writeup: "This trajectory shows a simulation of butane with enough energy to achieve the transition state (eclipsed geometry) for rotation around the C2-C3 bond. This allows sampling of both the anti and gauche conformations. Notice that during the trajectory there is both rotation of both the C2-C3 bond and the C1-C2 bond, but not at the exact same time."
			},
			{
				name: "CARBOCATION REARRANGEMENT",
				figDir: "assets/img/portfolio/MethylPentylCation.png",
				trjDir: "assets/traj/MethylPentylCation_short.sdf",
				writeup: "This trajectory shows a secondary carbocation and the hydride shift to generate a more stable tertiary carbocation. The extended animation below shows the hydride shift back and forth multiple times before ending as the tertiary carbocation.",
				variants: [
					{	
						name: "Carbocation generation",
						figDir: "assets/img/portfolio/Iodotertbutane_Sn1_tertbutyl.png",
						trjDir: "assets/traj/Carbocation_gen.sdf",
					},
					{
						name: "extended animation",
						figDir: "assets/img/portfolio/MethylPentylCation.png",
						trjDir: "assets/traj/MethylPentylCation.sdf",
					}
				]
			},
			{
				name: "DIELS-ALDER REACTION",
				figDir: "assets/img/portfolio/butadiene_acrylate_DA_cyclohexenecarboxylate.png",
				trjDir: "assets/traj/butadiene_acrylate_DA_cyclohexenecarboxylate.sdf",
				TSframe: 144,
				writeup: "The Diels-Alder reaction is typically a one-step reaction without an intermediate that forms two C-C bonds. This trajectory shows the s-cis conformation of the 1,3-diene and the transition state has an orientation where it is stacked on top of the dieneophile pi bonds. Click on the TS button and measure the newly forming C-C sigma bond lengths. Track these bond lengths before and after the transition state."
			},
			{
				name: "ELECTROCYCLIC RING CLOSURE",
				figDir: "assets/img/portfolio/hexadiene_TS_dimethylcyclobutene.png",
				trjDir: "assets/traj/hexadiene_TS_dimethylcyclobutene.sdf",
				TSframe: 1000,
				writeup: "This trajectory shows the cyclization of 2,4-hexadiene to dimethylcyclobutene. This trajectory first shows the rapid interconversion between s-trans and s-cis conformations of 2,4-hexadiene before achieving the transition state for C-C bond formation. Move the trajectory reverse and forward from the transition state to see the conrotatory motion."
			},
			{
				name: "COPE REARRANGEMENT",
				figDir: "assets/img/portfolio/dimethylhexadiene_cope_octadiene.png",
				trjDir: "assets/traj/dimethylhexadiene_cope_octadiene.sdf",
				TSframe: 1000,
				writeup: "The beginning of this trajectory shows the conformational change required to achieve the highly organized [3,3] sigmatropic rearrangement transition state. Press the TS button to look at the transition-state structure, which has a chair conformation and can be thought of as two allyl systems interacting. After the transition state the structure unwraps through another conformational change."
			},
			{
				name: "Cyclohexane Conformations",
				figDir: "assets/img/portfolio/cyclohexane.png",
				trjDir: "assets/traj/cyclohexane.sdf",
				TSframe: 3000
			},
			{
				name: "Intramolecular SN2",
				figDir: "assets/img/portfolio/Bromobutoxide_TS_THF.png",
				trjDir: "assets/traj/Bromobutoxide_TS_THF.sdf",
				TSframe: 300
			},
			{
				name: "Grignard reaction",
				figDir: "assets/img/portfolio/propanal_NA_secbutanol.png",
				trjDir: "assets/traj/propanal_NA_secbutanol.sdf",
				TSframe: 700
			},
			{
				name: "Friedel-Crafts Alkylation",
				figDir: "assets/img/portfolio/Toluene_acylium_AlCl4_TS_tolylethanone.png",
				trjDir: "assets/traj/Toluene_acylium_AlCl4_TS_tolylethanone.sdf",
				TSframe: 500
			},
			{
				name: "SN2 Methyl Iodide",
				figDir: "assets/img/portfolio/SN2_Methyl_Iodide.png",
				trjDir: "assets/traj/SN2_Methyl_Iodide.sdf",
				TSframe: 194
			},
			{
				name: "SN2 Methyl Ammonium",
				figDir: "assets/img/portfolio/SN2_Methyl_Ammonium.png",
				trjDir: "assets/traj/SN2_Methyl_Ammonium.sdf",
				TSframe: 438
			},
			{
				name: "Benzyl Bromide",
				figDir: "assets/img/portfolio/BenzylBromide.png",
				trjDir: "assets/traj/BenzylBromide.sdf",
				TSframe: 166
			},
			{
				name: "E2 2-Bromobutane",
				figDir: "assets/img/portfolio/2-Bromobutane.png",
				trjDir: "assets/traj/2-Bromobutane.sdf",
				TSframe: 1005
			},
			{
				name: "CH2 Carbene",
				figDir: "assets/img/portfolio/CH2_Carbene.png",
				trjDir: "assets/traj/carbene_TS_cyclopantane_triplet_TS200.sdf",
				TSframe: 200
			},
			{
				name: "CH2 Carbene Trans-2 Butene",
				figDir: "assets/img/portfolio/CH2_Carbene_Trans2_Butene.png",
				trjDir: "assets/traj/CH2_Carbene_Trans2_Butene.sdf",
				TSframe: 143
			},
			{
				name: "Ene Reaction",
				figDir: "assets/img/portfolio/EneReaction.png",
				trjDir: "assets/traj/EneReaction.sdf",
				TSframe: 128
			},
			{
				name: "OSO4-Ethylene",
				figDir: "assets/img/portfolio/OsmiumTetroxide_Ethylene.png",
				trjDir: "assets/traj/OsmiumTetroxide_Ethylene.sdf",
				TSframe: 157
			},
			{
				name: "Ozone-Ethylene",
				figDir: "assets/img/portfolio/Ozone_Ethylene.png",
				trjDir: "assets/traj/Ozone_Ethylene.sdf",
				TSframe: 253
			},
			{
				name: "CH4-Chlorine Radical",
				figDir: "assets/img/portfolio/CH4-Chlorine_Radical.png",
				trjDir: "assets/traj/CH4-Chlorine_Radical.sdf",
				TSframe: 56
			},
			{
				name: "3-Hexyne Hydrochloric",
				figDir: "assets/img/portfolio/3-Hexyne_Hydrochloric.png",
				trjDir: "assets/traj/3-Hexyne_Hydrochloric.sdf",
				TSframe: 232
			},
			{
				name: "Ethane Rotation", 
				figDir: "assets/img/portfolio/Ethane_Rotation.png",
				trjDir: "assets/traj/enthane_TS_10K.sdf",
			},
			{
				name: "Chloroethane Rotation",
				figDir: "assets/img/portfolio/Chloroethane_Rotation.png",
				trjDir: "assets/traj/Chloroenthane_TS_10K.sdf"
			},
			{
				name: "Butane Rotation",
				figDir: "assets/img/portfolio/butane.png",
				trjDir: "assets/traj/butane_eclipsed_TS870.sdf",
				TSframe: 870,
			}
		]
	</script>
</head>

<body id="page-top">
	<!-- Navigation-->
	<nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
		<div class="container">
			<a class="navbar-brand" href="#page-top">WebORA</a>
			<button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button"
				data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive"
				aria-expanded="false" aria-label="Toggle navigation">
				Menu
				<i class="fas fa-bars"></i>
			</button>
			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="#reactions">Organic Reactions</a></li>
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="#details">Trajectory Details</a></li>
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="#about">About
							US</a></li>
					<li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded"
							href="#contact">Contact</a></li>
				</ul>
			</div>
		</div>
	</nav>
	<!-- Masthead -->
	<header class="masthead bg-primary text-white text-center">
		<div class="container d-flex align-items-center flex-column">
			<p class="masthead-notice fst-italic">This website can be cited as:</p>
			<p class="masthead-notice fst-italic">Chen, S.; Fleming, S. A.; Ess, D. H. WebORA, 2021,
				https://webora.netlify.app/.</p>
			<p class="masthead-notice">Notice: webORA is a web platform to view trajectories as preparation for
				the iPhone application iORA. </p>
			<p class="masthead-notice">If you would like to preview a beta version of iORA, download the testflight 
				application and then use the following link:</p>
			<a class="masthead-notice mb-6" style="color:inherit"
				href="https://testflight.apple.com/join/FEW77U8m">https://testflight.apple.com/join/FEW77U8m</a>
			<h1 class="masthead-heading text-uppercase mt-6 mb-5">WebORA</h1>
			<p class="masthead-subheading font-weight-light mb-6">Organic Reaction Trajectories</p>
			<!-- <p class="col-lg-4 text-black text-center fst-italic mt-6">How to use? (Click to Zoom in)</p>
			<p class="col-lg-4 text-black text-center fst-italic">1. Click images and play button to activate the
				animations.</p>
			<p class="col-lg-4 text-black text-center fst-italic">2. Move molecules with left mouse button and zoom
				in/out with the mouse wheel.</p>
			<p class="col-lg-4 text-black text-center fst-italic">3. Double click to measure bonds/angles/dihedrals and
				double click again to end the measurement.</p>
			<p class="col-lg-4 text-black text-center fst-italic"><a style="color:inherit"
					href="http://biomodel.uah.es/en/DIY/Jmol/help/inicio.en.htm">More...</a></p> -->
		</div>
		<div class="portfolio container d-flex align-items-center flex-column mt-6">
			<div class="portfolio-item w-25" data-bs-toggle="modal" data-bs-target="#portfolioModal-instruction">
				<h3 class="masthead-subheading text-uppercase">How to use?<br />(Click to Zoom in)</h3>
				<div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
					<div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
				</div>
				<img src="assets/img/instruction.png" class="img-fluid rounded" alt="..." />
			</div>
		</div>
	</header>
	<!-- Portfolio Section-->
	<section class="page-section portfolio" id="reactions">
		<div class="container">
			<!-- Portfolio Section Heading-->
			<h2 class="page-section-heading text-center text-uppercase text-secondary mb-5">Organic Reactions</h2>
			<!-- Portfolio Grid Items-->
			<div class="row justify-content-center">
				<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
				<script type="text/javascript">
					for (let i = 0; i < reactions.length; i++) {
						let html = `<div class="col-md-6 col-lg-4 mb-5">
							<div class="portfolio-item mx-auto" data-bs-toggle="modal" data-bs-target="#portfolioModal${i}">
								<h3 class="text-secondary text-uppercase">${reactions[i].name}</h3>
								<div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
									<div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
								</div>
								<img class="img-fluid" src="${reactions[i].figDir}" alt="..." />
							</div>
						</div>`;
						document.write(html);
					}
				</script>
			</div>
		</div>
	</section>
	<!-- Details Section-->
	<section class="page-section bg-primary text-white mb-0" id="details">
		<div class="container">
			<!-- Details Section Heading-->
			<h2 class="page-section-heading text-center text-uppercase text-white mb-5">Trajectory Details</h2>
			<!-- Details Section Content-->
			<div class="row">
				<div class="lg-4 ms-auto text-center">
					<p class="lead">
						The direct dynamics trajectories presented are displayed using JSmol.
						Each trajectory was generated using a density functional theory transition-state structure
						followed
						by vibrational normal mode sampling and propagation in forward and reverse directions using
						mass-weighted
						velocities with the Gaussian 16 program. Generally, a propagation step size of 0.5 femtosecond
						was used.
					</p>
				</div>
			</div>
		</div>
	</section>
	<!-- About Section-->
	<section class="page-section" id="about">
		<div class="container">
			<!-- About Section Heading-->
			<h2 class="page-section-heading text-center text-uppercase text-secondary mb-5">About Us</h2>
			<!-- About Section Content-->
			<div class="row">
				<div class="col-lg-4 ms-auto text-secondary">
					<p class="lead">By adhering to accepted guidelines and standards for accessibility and usability
						webORA is committed to providing a website that is accessible to the widest possible audience.
						This work is the result of a Brigham Young University-Temple University collaboration with the
						goal of providing organic reaction animations based on physically correct direct dynamics
						simulations.</p>
				</div>
				<div class="col-lg-4 me-auto text-secondary">
					<p class="lead">Prof. Ess, Prof. Fleming, Dr. Shusen Chen, and undergraduate students Nathan Todd, Allyson Yu and
						Josh Schneider have contributed to creating webORA. The development of webORA is supported by the
						 US National Science Foundation: DUE-2121023 to Ess and DUE-2120871 to Fleming.</p>
				</div>
			</div>
		</div>
	</section>
	<!-- Contact Section-->
	<section class="page-section bg-primary text-white mb-0" id="contact">
		<div class="container">
			<!-- Contact Section Heading-->
			<h2 class="page-section-heading text-center text-uppercase mb-5">Contact Us</h2>
			<div class="lg-4 ms-auto text-center">
				<p class="lead">For more information, please contact Prof. Dan Ess (dhe@chem.byu.edu) or Prof. Steven
					Fleming (sfleming@temple.edu).</p>
			</div>
			<h5> <a href="https://forms.gle/3SHWJLsFzEHbUnLi8" style="color:white">Feedback Form</a> </h5>
		</div>
		</div>
	</section>
	<!-- Footer-->
	<footer class="footer text-center">
		<div class="container">
			<div class="row">
				<!-- Footer Location-->
				<div class="col-lg-4 mb-5 mb-lg-0">
					<h4 class="text-uppercase mb-4">Support</h4>
					<p class="lead mb-0">
						The development of webORA and iORA are supported by the US National Science Foundation:
						DUE-2121023
					</p>
				</div>
				<!-- Footer Social Icons-->
				<div class="col-lg-4 mb-5 mb-lg-0">
					<h4 class="text-uppercase mb-4">Around the Web</h4>
					<a class="btn btn-outline-light btn-social mx-1" href="#!"><i
							class="fab fa-fw fa-facebook-f"></i></a>
					<a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
					<a class="btn btn-outline-light btn-social mx-1" href="#!"><i
							class="fab fa-fw fa-linkedin-in"></i></a>
					<a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
				</div>
				<!-- Footer About Text-->
				<div class="col-lg-4">
					<h4 class="text-uppercase mb-4">About Webora</h4>
					<p class="lead mb-0">
						WebORA uses Freelance, a MIT licensed Bootstrap theme created by
						<a href="http://startbootstrap.com">Start Bootstrap</a>
					</p>
				</div>
			</div>
		</div>
	</footer>
	<!-- Copyright Section-->
	<div class="copyright py-4 text-center text-white">
		<div class="container"><small>Copyright &copy; WebORA 2021</small></div>
	</div>
	<!-- Portfolio Modals-->
	<div class="portfolio-modal modal fade" style="z-index: 2055" id="portfolioModal-instruction" tabindex="-1" aria-labelledby="portfolioModal${i}" aria-hidden="true">
		<div class="modal-dialog modal-xl">
			<div class="modal-content">
				<div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
				<div class="modal-body text-center pb-5">
					<div class="container">
						<div class="row justify-content-center">
							<div class="col-lg-12">
								<h2 class="portfolio-modal-title text-secondary text-uppercase mb-5">Instruction</h2>
								<img src="assets/img/instruction.png" class="img-fluid mb-5" alt="..." />
								<a class="btn btn-primary" data-bs-dismiss="modal">
									<i class="fas fa-times fa-fw"></i>
									Close Window
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
		for (let i = 0; i < reactions.length; i++) {
			let variantHtml = "";
			//add variant reaction
			if(reactions[i].variants) {
				variantHtml += `<div class="btn-group mb-2 float-start" role="group" aria-label="Basic example">`
			}
			for (let j = 0; reactions[i].variants && j < reactions[i].variants.length; j++) {
				variantHtml += `<a class="btn btn-secondary" data-bs-toggle="collapse" href="#collapse${i}_${j}" role="button" aria-expanded="false" aria-controls="collapse${i}_${j}">${reactions[i].variants[j].name}</a>`
			}
			if(reactions[i].variants) {
				variantHtml += `</div><br></br>`
			}			
			for (let j = 0; reactions[i].variants && j < reactions[i].variants.length; j++) {
				let variantTsBotton = "";
				if (reactions[i].variants[j].TSframe) variantTsBotton = `<span class="input-group-text"><a class="btn btn-secondary btn-sm" href="javascript: Jmol.script(jmol${i}_${j}, 'frame ${reactions[i].variants[j].TSframe}');" title="Transtion State">TS</a></span>`;
				variantHtml += `<div class="collapse mb-2" id="collapse${i}_${j}"><ul class="list-group">
					<li class="list-group-item">
						<div class="portfolio float-end">
							<div class="portfolio-item" style="z-index: 1555" data-bs-toggle="modal" data-bs-target="#portfolioModal-instruction">
								<i class="fas fa-question-circle fa-2x"></i>
							</div>
						</div>
						<div id="appletplace${i}_${j}" style="width: 80vmin;height: 80vmin;margin: auto;"></div>
						<div class="row">
							<div class="lg-4 ms-auto text-center bottom-0 position-absolute" style="z-index: 1555">
								<p id="description${i}_${j}"class="lead text-secondary">
								</p>
							</div>
						</div>	
					</li>
					<li class="list-group-item">
						<div class="input-group">
							<span class="input-group-text"><input id="switch${i}_${j}" type="checkbox" class="switch switch-anim" onchange="javascript:if (this.checked) {Jmol.script(jmol${i}_${j},'animation resume');} else {Jmol.script(jmol${i}_${j},'animation pause');}"/></span>
							<span class="form-control"><input id="timelineRange${i}_${j}" type="range" class="form-range" min="1" max="600" oninput="javascript:Jmol.script(jmol${i}_${j}, 'frame ' + this.value); timelineAmount${i}_${j}.value=this.value" /></span>
							<span class="input-group-text"><input id="timelineAmount${i}_${j}" type="number" min="1" max="600" oninput="javascript:Jmol.script(jmol${i}_${j}, 'frame ' + this.value); timelineRange${i}_${j}.value=this.value" /></span>
							${variantTsBotton}
							<span class="input-group-text">
								<div class="dropdown">
									<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton${i}_${j}" data-bs-toggle="dropdown" aria-expanded="false" title="fps">Speed</button>
									<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton${i}_${j}">
										<input id="fpsRange${i}_${j}" type="range" min="1" max="60" value="30" class="form-range" oninput="javascript:Jmol.script(jmol${i}_${j}, 'animation fps ' + this.value);" />
									</ul>
								</div>
							</span>
						</div>
					</li>
				<li class="list-group-item"><input id="toggle${i}_${j}" class="form-check-input mt-2 me-2" type="checkbox"/><label class="form-check-label text-secondary lead" for="toggle${i}_${j}">Walk me through the reaction</label></li>
				</ul></div>`
			}
			//add main reaction
			let tsBotton = "";
			if(reactions[i].TSframe) {
				tsBotton = `<span class="input-group-text"><a class="btn btn-secondary btn-sm" href="javascript: Jmol.script(jmol${i}, 'frame ${reactions[i].TSframe}');" title="Transtion State">TS</a></span>`;
			}
			const html = `<div class="portfolio-modal modal fade" id="portfolioModal${i}" tabindex="-1" aria-labelledby="portfolioModal${i}" aria-hidden="true">
				<div class="modal-dialog modal-fullscreen">
					<div class="modal-content">
						<div class="modal-header border-0"><button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button></div>
							<div class="modal-body text-center pb-5">
								<div class="container">
									<div class="row justify-content-center">
										<div class="col-lg-12">
											<h2 class="portfolio-modal-title text-secondary text-uppercase mb-5">${reactions[i].name}</h2>
											<ul class="list-group mb-3"">
												<li class="list-group-item">
													<div class="portfolio float-end">
														<div class="portfolio-item" style="z-index: 1555" data-bs-toggle="modal" data-bs-target="#portfolioModal-instruction">
															<i class="fas fa-question-circle fa-2x"></i>
														</div>
													</div>
													<div id="appletplace${i}" style="width: 80vmin; height: 80vmin; margin: auto; "></div>
													<div class="row">
														<div class="lg-4 ms-auto text-center bottom-0 position-absolute" style="z-index: 1555">
															<p id="description${i}" class="lead text-secondary">
															</p>
														</div>
													</div>										
												</li>
												<li class="list-group-item">
													<div class="input-group">
														<span class="input-group-text"><input id="switch${i}" type="checkbox" class="switch switch-anim" onchange="javascript:if (this.checked) {Jmol.script(jmol${i}, 'animation resume');} else {Jmol.script(jmol${i}, 'animation pause');}"/></span>
														<span class="form-control justify-content-center"><input id="timelineRange${i}" type="range" class="form-range" min="1" max="600" oninput="javascript:Jmol.script(jmol${i}, 'frame ' + this.value); timelineAmount${i}.value=this.value" /></span>
														<span class="input-group-text"><input id="timelineAmount${i}" type="number" min="1" max="600" oninput="javascript:Jmol.script(jmol${i}, 'frame ' + this.value); timelineRange${i}.value=this.value" /></span>
														${tsBotton}
														<span class="input-group-text">
															<div class="dropdown">
																<button class="btn btn-secondary btn-sm dropdown-toggle" type="button" id="dropdownMenuButton${i}" data-bs-toggle="dropdown" aria-expanded="false" title="fps">Speed</button>
																<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton${i}">
																	<input id="fpsRange${i}" type="range" min="1" max="60" value="30" class="form-range" oninput="javascript:Jmol.script(jmol${i}, 'animation fps ' + this.value);" />
																</ul>
															</div>
														</span>
													</div>
												</li>
												<li class="list-group-item"><input id="toggle${i}" class="form-check-input mt-2 me-2" type="checkbox"/><label class="form-check-label text-secondary lead" for="toggle${i}">Walk me through the reaction</label></li>
											</ul>
											<div class="card mb-3" ><div class="card-body"><p class="card-text lead text-secondary">${reactions[i].writeup}</p></div></div>
											${variantHtml}
											<a class="btn btn-primary" href="javascript:Jmol.script(jmol${i}, 'animation off')" data-bs-dismiss="modal">
												<i class="fas fa-times fa-fw"></i>
												Close Window
											</a>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>`;
			document.write(html);
		}
	</script>
	<!-- Bootstrap core JS-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Core theme JS-->
	<script src="js/scripts.js"></script>
	<!-- Put JSmol script here -->
	<script src="https://3Dmol.org/build/3Dmol-min.js" async></script>
	<script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
	<script type="text/javascript" src="js/JSmol.min.js"></script>

	<script type="text/javascript">
		update = function (app, _, fileNo, modelNo, _, lastNo) {
			let index = app.match(/\d+(_\d+)?/g);
			// console.log(eval('jmol' + index));
			document.getElementById('timelineAmount' + index).value = modelNo;
			document.getElementById('timelineRange' + index).value = modelNo;
			document.getElementById('timelineAmount' + index).max = lastNo - fileNo * 1000000;
			document.getElementById('timelineRange' + index).max = lastNo - fileNo * 1000000;
			const splitedIndex = index[0].split('_'); 
			if(splitedIndex.length == 1) {
				for (let step in reactions[index].events) {
					if (modelNo == step && document.getElementById('toggle' + index).checked) {
						// Jmol.script(eval('jmol' + index), "echo " + reactions[index].events[step]);
						document.getElementById('description' + index).innerHTML = reactions[index].events[step];
						Jmol.script(eval('jmol' + index), 'animation pause');
						document.getElementById('switch' + index).checked = false;
					}
				}
			}
			else {
				for (let step in reactions[splitedIndex[0]].variants[splitedIndex[1]].events) {
					if (modelNo == step && document.getElementById('toggle' + index).checked) {
						// Jmol.script(eval('jmol' + index), "echo " + reactions[splitedIndex[0]].variants[splitedIndex[1]].events[step]);
						document.getElementById('description' + index).innerHTML = reactions[splitedIndex[0]].variants[splitedIndex[1]].events[step];
						Jmol.script(eval('jmol' + index), 'animation pause');
						document.getElementById('switch' + index).checked = false;
					}
				}
			};
		}
		$(document).ready(function () {
			for (let i = 0; i < reactions.length; i++) {
				const info = {
					width: "100%",
					height: "100%",
					zIndexBase: 1055, //based on modal z-index
					debug: false,
					color: "white",
					addSelectionOptions: false,
					serverURL: "https://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php",
					use: "HTML5",
					coverImage: reactions[i].figDir,//"data/1hxw.png",        // initial image instead of applet
					coverScript: "",	// special script for click of cover image (otherwise equal to script)
					deferApplet: true,                  // wait to load applet until click
					deferUncover: false,                 // wait to uncover applet until script completed
					jarPath: "java",
					j2sPath: "js/j2s",
					jarFile: "JmolApplet.jar",
					isSigned: false,
					//disableJ2SLoadMonitor: true,
					//disableInitialConsole: true,
					//readyFunction: jmol_isReady,
					//defaultModel: "$dopamine",
					//script: "load " + reactions[i].trjDir + ";animation mode loop;animation off;animation fps 30; set measurements angstroms; set AnimFrameCallback 'update';set echo bottom center; color echo [x2c3e50]; echo Move molecules with left mouse button and zoom in/out with the mouse wheel.Double click to measure bonds/angles/dihedrals and double click again to end the measurement."
					script: "load " + reactions[i].trjDir + ";animation mode loop;animation off;animation fps 30; set measurements angstroms; set AnimFrameCallback 'update';set echo bottom center; color echo [x2c3e50]"
				}
				$("#appletplace" + i).html(Jmol.getAppletHtml("jmol" + i, info));
				for (let j = 0; reactions[i].variants && j < reactions[i].variants.length; j++) {
					const info = {
						width: '100%',
						height: "100%",
						zIndexBase: 1055, //based on modal z-index
						debug: false,
						color: "white",
						addSelectionOptions: false,
						serverURL: "https://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php",
						use: "HTML5",
						coverImage: reactions[i].variants[j].figDir,        // initial image instead of applet
						coverScript: "",	// special script for click of cover image (otherwise equal to script)
						deferApplet: true,                  // wait to load applet until click
						deferUncover: false,                 // wait to uncover applet until script completed
						jarPath: "java",
						j2sPath: "js/j2s",
						jarFile: "JmolApplet.jar",
						isSigned: false,
						//disableJ2SLoadMonitor: true,
						//disableInitialConsole: true,
						//readyFunction: jmol_isReady,
						//defaultModel: "$dopamine",
						// script: "load " + reactions[i].variants[j].trjDir + ";animation mode loop;animation off;animation fps 30; set measurements angstroms; set AnimFrameCallback 'update';set echo bottom center; color echo [x2c3e50]; echo Move molecules with left mouse button and zoom in/out with the mouse wheel.Double click to measure bonds/angles/dihedrals and double click again to end the measurement."
						script: "load " + reactions[i].variants[j].trjDir + ";animation mode loop;animation off;animation fps 30; set measurements angstroms; set AnimFrameCallback 'update';set echo bottom center; color echo [x2c3e50]"
					}
					$("#appletplace" + i + "_" + j).html(Jmol.getAppletHtml("jmol" + i + "_" + j, info));
				}
			}
		})
	</script>
</body>

</html>